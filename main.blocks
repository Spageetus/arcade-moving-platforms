<xml xmlns="https://developers.google.com/blockly/xml"><block type="pxt-on-start" id="jPaysq5ti.6yq;-XOPe_" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="}{H-18nOKH5Y=Flw%XwL" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace SpriteKind {" line1="    export let Platform = SpriteKind.create()" line2="    for (let sprite of sprites.allOfKind(9999)) {" line3="        sprite.setKind(SpriteKind.Platform)" line4="    }" line5="}" numlines="6"></mutation><next><block type="typescript_statement" id="!xxlu#zro83Vd9m[+.wt" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace MoveablePlatform" line1="{" line2="    let isOnPlatform = false" line3="    let currentPlatform: Sprite = null" line4="    " line5="    export function create(img: Image) {" line6="        if (SpriteKind.Platform == undefined) { //Platform kind is undefined when this function runs for the first time" line7="            SpriteKind.Platform = 9999" line8="        }" line9="        return sprites.create(img, SpriteKind.Platform)" line10="    }" line11="" line12="    export function platformCollisionHandler(sprite: Sprite, platform: Sprite)" line13="    {" line14="        if (sprite.right &lt; platform.x) {" line15="            sprite.right = platform.left" line16="        }" line17="        else if (sprite.left &gt; platform.x) {" line18="            sprite.left = platform.right" line19="        }" line20="        else if (sprite.bottom &lt;= platform.y) //hits top of platform" line21="        {" line22="            isOnPlatform = true" line23="            currentPlatform = platform" line24="            sprite.ay = 0" line25="            sprite.vy = 0" line26="            sprite.bottom = platform.top" line27="        }" line28="        else if (sprite.top &gt;= platform.y) //hit bottom of tile" line29="        {" line30="            sprite.top = platform.bottom" line31="            sprite.vy = 0" line32="        }" line33="    }" line34="}" numlines="35"></mutation></block></next></block></statement></block></xml>